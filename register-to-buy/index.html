<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Join Waiting List - CheckAPet</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Sanchez&display=swap" rel="stylesheet">
    
    <style>
        body {
            background-color: #f8f9fa;
            font-family: 'Sanchez', serif;
        }
        
        .registration-container {
            max-width: 600px;
            margin: 2rem auto;
            background: white;
            border-radius: 1rem;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        .progress-header {
            background: linear-gradient(135deg, #3c763d, #5cb85c);
            color: white;
            padding: 2rem;
            text-align: center;
        }
        
        .progress-bar-custom {
            height: 8px;
            background-color: rgba(255, 255, 255, 0.3);
            border-radius: 4px;
            margin-top: 1rem;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background-color: white;
            border-radius: 4px;
            transition: width 0.3s ease;
            width: 25%;
        }
        
        .step-content {
            padding: 2rem;
            min-height: 400px;
        }
        
        .step {
            display: none;
        }
        
        .step.active {
            display: block;
            animation: fadeInUp 0.3s ease;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .form-control, .form-select {
            border: 2px solid #e9ecef;
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            transition: border-color 0.3s ease;
        }
        
        .form-control:focus, .form-select:focus {
            border-color: #3c763d;
            box-shadow: 0 0 0 0.2rem rgba(60, 118, 61, 0.25);
        }
        
        .btn-primary {
            background-color: #3c763d;
            border-color: #3c763d;
            padding: 0.75rem 2rem;
            font-weight: 600;
            border-radius: 0.5rem;
        }
        
        .btn-primary:hover {
            background-color: #2e5b2e;
            border-color: #2e5b2e;
        }
        
        .btn-outline-secondary {
            border: 2px solid #3c763d;
            color: white;
            background-color: #3c763d;
            padding: 0.75rem 2rem;
            font-weight: 600;
            border-radius: 0.5rem;
        }
        
        .btn-outline-secondary:hover {
            background-color: #2e5b2e;
            border-color: #2e5b2e;
            color: white;
        }
        
        .age-verification {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-bottom: 1rem;
        }
        
        .success-message {
            text-align: center;
            padding: 2rem;
        }
        
        .success-icon {
            font-size: 4rem;
            color: #28a745;
            margin-bottom: 1rem;
        }
        
        .step-indicator {
            display: flex;
            justify-content: center;
            margin-bottom: 1rem;
        }
        
        .step-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.4);
            margin: 0 0.25rem;
            transition: background-color 0.3s ease;
        }
        
        .step-dot.active {
            background-color: white;
        }
        
        .info-box {
            background-color: #e8f5e8;
            border: 1px solid #c3e6c3;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-bottom: 1rem;
        }
        
        .waiting-list-info {
            background-color: #e3f2fd;
            border: 1px solid #90caf9;
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .preference-tag {
            display: inline-block;
            background-color: #3c763d;
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 1rem;
            font-size: 0.875rem;
            margin: 0.25rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="registration-container">
            <!-- Progress Header -->
            <div class="progress-header">
                <h2 class="mb-0">Join Our Waiting List</h2>
                <p class="mb-0 mt-2">Register your preferences for future litters</p>
                <div class="step-indicator">
                    <div class="step-dot active"></div>
                    <div class="step-dot"></div>
                    <div class="step-dot"></div>
                    <div class="step-dot"></div>
                </div>
                <div class="progress-bar-custom">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
            </div>
            
            <!-- Step Content -->
            <div class="step-content">
                <!-- Step 1: Age Verification -->
                <div class="step active" id="step1">
                    <h4 class="mb-4">Age Verification</h4>
                    <div class="age-verification">
                        <div class="d-flex align-items-center mb-3">
                            <i class="fas fa-exclamation-triangle text-warning me-2"></i>
                            <strong>Important: You must be 18 or older to join our waiting list</strong>
                        </div>
                        <p class="mb-3">Per our terms and conditions, only users aged 18 and over may contact advertisers and purchase pets through our platform.</p>
                    </div>
                    
                    <div class="mb-3">
                        <label for="birthDate" class="form-label fw-semibold">Date of Birth *</label>
                        <input type="date" class="form-control" id="birthDate" required>
                        <div class="invalid-feedback">You must be at least 18 years old to register.</div>
                    </div>
                    
                    <div class="form-check mb-4">
                        <input class="form-check-input" type="checkbox" id="ageConfirm" required>
                        <label class="form-check-label" for="ageConfirm">
                            I confirm that I am at least 18 years of age
                        </label>
                    </div>
                </div>
                
                <!-- Step 2: Personal Information -->
                <div class="step" id="step2">
                    <h4 class="mb-4">Your Information</h4>
                    
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="firstName" class="form-label fw-semibold">First Name *</label>
                            <input type="text" class="form-control" id="firstName" required>
                        </div>
                        <div class="col-md-6">
                            <label for="lastName" class="form-label fw-semibold">Last Name *</label>
                            <input type="text" class="form-control" id="lastName" required>
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        <label for="email" class="form-label fw-semibold">Email Address *</label>
                        <input type="email" class="form-control" id="email" required>
                        <small class="form-text text-muted">We'll use this to notify you when matching litters become available</small>
                    </div>
                    
                    <div class="mb-3">
                        <label for="phone" class="form-label fw-semibold">Phone Number *</label>
                        <input type="tel" class="form-control" id="phone" required>
                    </div>
                    
                    <div class="mb-3">
                        <label for="location" class="form-label fw-semibold">Your Location *</label>
                        <input type="text" class="form-control" id="location" required placeholder="City, County">
                        <small class="form-text text-muted">To match you with breeders in your area</small>
                    </div>
                </div>
                
                <!-- Step 3: Pet Preferences -->
                <div class="step" id="step3">
                    <h4 class="mb-4">What Are You Looking For?</h4>
                    
                    <div class="waiting-list-info">
                        <h6><i class="fas fa-info-circle text-primary me-2"></i>How Our Matching System Works</h6>
                        <p class="mb-2">When breeders register litters that match your preferences, we'll share your contact details with them directly. The breeder will then contact you to discuss availability, viewing arrangements, and next steps.</p>
                        <small class="text-muted">You are not buying through our site - we simply connect you with verified breeders. Your preferences remain active for 3 months.</small>
                    </div>
                    
                    <div class="mb-4">
                        <label for="petType" class="form-label fw-semibold">Pet Type *</label>
                        <select class="form-select" id="petType" required>
                            <option value="">What type of pet are you looking for?</option>
                            <option value="dog">Dog</option>
                            <option value="cat">Cat</option>
                            <option value="both">Both Dogs and Cats</option>
                        </select>
                    </div>
                    
                    <div class="mb-4">
                        <label for="idealPetDescription" class="form-label fw-semibold">Describe Your Ideal Pet *</label>
                        <textarea class="form-control" id="idealPetDescription" rows="4" required placeholder="Tell us about the pet you're looking for... What breed(s) are you interested in? What size would you prefer? Any specific characteristics or temperament you're looking for? Are you interested in purebred or crossbred animals?"></textarea>
                        <small class="form-text text-muted">Be as specific as possible - this helps us match you with the right breeders. Include breed preferences, size, temperament, activity level, or any other important factors.</small>
                    </div>
                    
                    <div class="mb-4">
                        <label class="form-label fw-semibold">Breed Type Preference *</label>
                        <div class="form-check mb-2">
                            <input class="form-check-input" type="radio" name="breedType" id="purebredOnly" value="purebred" required>
                            <label class="form-check-label" for="purebredOnly">
                                <strong>Purebred only</strong> - Specific breeds with pedigree
                            </label>
                        </div>
                        <div class="form-check mb-2">
                            <input class="form-check-input" type="radio" name="breedType" id="crossbredOnly" value="crossbred" required>
                            <label class="form-check-label" for="crossbredOnly">
                                <strong>Crossbred/Mixed breeds</strong> - Designer crosses and mixed breeds
                            </label>
                        </div>
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="radio" name="breedType" id="anyBreed" value="any" required>
                            <label class="form-check-label" for="anyBreed">
                                <strong>Open to any</strong> - Both purebred and crossbred
                            </label>
                        </div>
                    </div>
                    
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="sizePreference" class="form-label fw-semibold">Size Preference</label>
                            <select class="form-select" id="sizePreference">
                                <option value="">Any size</option>
                                <option value="toy">Toy (Under 10 lbs)</option>
                                <option value="small">Small (10-25 lbs)</option>
                                <option value="medium">Medium (25-60 lbs)</option>
                                <option value="large">Large (60-90 lbs)</option>
                                <option value="giant">Giant (Over 90 lbs)</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label for="agePreference" class="form-label fw-semibold">Age Preference</label>
                            <select class="form-select" id="agePreference">
                                <option value="">Any age</option>
                                <option value="puppy_kitten">Puppy/Kitten (8-16 weeks)</option>
                                <option value="young">Young (4-12 months)</option>
                                <option value="adult">Adult (1+ years)</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <!-- Step 4: Final Details & Confirmation -->
                <div class="step" id="step4">
                    <h4 class="mb-4">Final Details</h4>
                    
                    <div class="mb-4">
                        <label for="timeframe" class="form-label fw-semibold">When are you looking to get a pet? *</label>
                        <select class="form-select" id="timeframe" required>
                            <option value="">Select timeframe</option>
                            <option value="immediately">Ready now</option>
                            <option value="1-3_months">Within 1-3 months</option>
                            <option value="3-6_months">Within 3-6 months</option>
                            <option value="6-12_months">Within 6-12 months</option>
                            <option value="flexible">Flexible - waiting for the right match</option>
                        </select>
                    </div>
                    
                    <div class="mb-4">
                        <label for="budgetRange" class="form-label fw-semibold">Budget Range</label>
                        <select class="form-select" id="budgetRange">
                            <option value="">Prefer not to specify</option>
                            <option value="under_500">Under £500</option>
                            <option value="500-1000">£500 - £1,000</option>
                            <option value="1000-2000">£1,000 - £2,000</option>
                            <option value="2000-3000">£2,000 - £3,000</option>
                            <option value="over_3000">Over £3,000</option>
                        </select>
                        <small class="form-text text-muted">This helps us match you with appropriate breeders</small>
                    </div>
                    
                    <div class="mb-4">
                        <label for="additionalRequirements" class="form-label fw-semibold">Additional Requirements or Notes</label>
                        <textarea class="form-control" id="additionalRequirements" rows="3" placeholder="Any specific requirements, allergies, experience level, or other important information..."></textarea>
                    </div>
                    
                    <div class="info-box">
                        <h6><i class="fas fa-handshake text-success me-2"></i>What Happens Next</h6>
                        <ul class="mb-0 small">
                            <li>We match your preferences with registered breeders</li>
                            <li>When a matching litter is available, we share your details with the breeder</li>
                            <li>The breeder contacts you directly to discuss their litter</li>
                            <li>You arrange viewing and purchase directly with the breeder</li>
                            <li>All transactions happen between you and the breeder - not through our site</li>
                            <li>Completely free service for buyers</li>
                        </ul>
                    </div>
                    
                    <div class="form-check mb-3">
                        <input class="form-check-input" type="checkbox" id="termsAgree" required>
                        <label class="form-check-label" for="termsAgree">
                            I have read and agree to the <a href="#" target="_blank">Terms and Conditions</a>
                        </label>
                    </div>
                    
                    <div class="form-check mb-3">
                        <input class="form-check-input" type="checkbox" id="notificationConsent" required>
                        <label class="form-check-label" for="notificationConsent">
                            I consent to receive email notifications when matching litters become available
                        </label>
                    </div>
                    
                    <div class="form-check mb-4">
                        <input class="form-check-input" type="checkbox" id="autoRemovalConsent" required>
                        <label class="form-check-label" for="autoRemovalConsent">
                            I understand my preferences will be automatically removed after 3 months unless I confirm continued interest
                        </label>
                    </div>
                </div>
                
                <!-- Success Message -->
                <div class="step" id="stepSuccess">
                    <div class="success-message">
                        <div class="success-icon">
                            <i class="fas fa-heart"></i>
                        </div>
                        <h4 class="mb-3">You're Registered!</h4>
                        <p class="text-muted mb-4">We'll connect you with breeders when litters matching your preferences become available. They'll contact you directly to discuss their available puppies or kittens.</p>
                        
                        <div class="info-box text-start mb-4">
                            <h6>Your Preferences Summary:</h6>
                            <div id="preferencesSummary"></div>
                        </div>
                        
                        <div class="d-grid gap-2">
                            <button class="btn btn-primary" onclick="goHome()">Browse Current Breeders</button>
                            <button class="btn btn-outline-secondary" onclick="window.location.reload()">Register Another Preference</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Navigation Buttons -->
            <div class="d-flex justify-content-between p-3 border-top" id="navigationButtons">
                <div class="d-flex gap-2">
                    <button class="btn btn-outline-secondary" onclick="goHome()">
                        <i class="fas fa-home me-2"></i>Home
                    </button>
                    <button class="btn btn-outline-secondary" id="prevBtn" onclick="previousStep()" style="display: none;">
                        <i class="fas fa-arrow-left me-2"></i>Previous
                    </button>
                </div>
                <button class="btn btn-primary" id="nextBtn" onclick="nextStep()">
                    Next<i class="fas fa-arrow-right ms-2"></i>
                </button>
            </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        let currentStep = 1;
        const totalSteps = 4;
        
        function validateStep(step) {
            const stepElement = document.getElementById(`step${step}`);
            const requiredFields = stepElement.querySelectorAll('[required]');
            let isValid = true;
            
            // Clear previous validation states
            requiredFields.forEach(field => {
                field.classList.remove('is-invalid');
            });
            
            // Age verification
            if (step === 1) {
                const birthDate = document.getElementById('birthDate').value;
                const ageConfirm = document.getElementById('ageConfirm').checked;
                
                if (birthDate) {
                    const age = new Date().getFullYear() - new Date(birthDate).getFullYear();
                    if (age < 18) {
                        document.getElementById('birthDate').classList.add('is-invalid');
                        isValid = false;
                    } else {
                        document.getElementById('birthDate').classList.remove('is-invalid');
                    }
                }
                
                if (!ageConfirm && birthDate) {
                    isValid = false;
                }
            }
            
            // Validate required fields
            requiredFields.forEach(field => {
                if (field.type === 'checkbox') {
                    if (!field.checked) {
                        field.classList.add('is-invalid');
                        isValid = false;
                    }
                } else if (!field.value.trim()) {
                    field.classList.add('is-invalid');
                    isValid = false;
                } else {
                    field.classList.remove('is-invalid');
                }
            });
            
            // Email validation
            if (step === 2) {
                const email = document.getElementById('email').value;
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (email && !emailRegex.test(email)) {
                    document.getElementById('email').classList.add('is-invalid');
                    isValid = false;
                }
            }
            
            return isValid;
        }
        
        function nextStep() {
            if (currentStep <= totalSteps && validateStep(currentStep)) {
                if (currentStep === totalSteps) {
                    // Final step - complete registration
                    completeRegistration();
                    return;
                }
                
                document.getElementById(`step${currentStep}`).classList.remove('active');
                currentStep++;
                document.getElementById(`step${currentStep}`).classList.add('active');
                updateProgress();
                updateButtons();
                updateStepIndicators();
            }
        }
        
        function previousStep() {
            if (currentStep > 1) {
                document.getElementById(`step${currentStep}`).classList.remove('active');
                currentStep--;
                document.getElementById(`step${currentStep}`).classList.add('active');
                updateProgress();
                updateButtons();
                updateStepIndicators();
            }
        }
        
        function updateProgress() {
            const progress = (currentStep / totalSteps) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
        }
        
        function updateButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            if (currentStep > 1) {
                prevBtn.style.display = 'inline-block';
            } else {
                prevBtn.style.display = 'none';
            }
            
            if (currentStep === totalSteps) {
                nextBtn.innerHTML = 'Register My Interest <i class="fas fa-heart ms-2"></i>';
            } else {
                nextBtn.innerHTML = 'Next <i class="fas fa-arrow-right ms-2"></i>';
            }
        }
        
        function updateStepIndicators() {
            const dots = document.querySelectorAll('.step-dot');
            dots.forEach((dot, index) => {
                if (index < currentStep) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
        }
        
        function completeRegistration() {
            // Collect form data
            const formData = {
                personalInfo: {
                    firstName: document.getElementById('firstName').value,
                    lastName: document.getElementById('lastName').value,
                    email: document.getElementById('email').value,
                    phone: document.getElementById('phone').value,
                    location: document.getElementById('location').value,
                    birthDate: document.getElementById('birthDate').value
                },
                preferences: {
                    petType: document.getElementById('petType').value,
                    idealPetDescription: document.getElementById('idealPetDescription').value,
                    breedType: document.querySelector('input[name="breedType"]:checked')?.value,
                    sizePreference: document.getElementById('sizePreference').value,
                    agePreference: document.getElementById('agePreference').value,
                    timeframe: document.getElementById('timeframe').value,
                    budgetRange: document.getElementById('budgetRange').value,
                    additionalRequirements: document.getElementById('additionalRequirements').value
                },
                agreements: {
                    terms: document.getElementById('termsAgree').checked,
                    notifications: document.getElementById('notificationConsent').checked,
                    autoRemoval: document.getElementById('autoRemovalConsent').checked
                },
                registrationDate: new Date().toISOString(),
                expiryDate: new Date(Date.now() + 90 * 24 * 60 * 60 * 1000).toISOString() // 3 months from now
            };
            
            // Display preferences summary
            displayPreferencesSummary(formData);
            
            // Store in sessionStorage for demo purposes
            sessionStorage.setItem('checkaPetWaitingList', JSON.stringify(formData));
            
            // Show success
            document.getElementById(`step${currentStep}`).classList.remove('active');
            document.getElementById('stepSuccess').classList.add('active');
            document.getElementById('navigationButtons').style.display = 'none';
            updateProgress();
            
            console.log('Waiting list registration completed:', formData);
        }
        
        function displayPreferencesSummary(data) {
            const summary = document.getElementById('preferencesSummary');
            let summaryHTML = '';
            
            // Pet type
            summaryHTML += `<span class="preference-tag">${data.preferences.petType}</span>`;
            
            // Breed type
            if (data.preferences.breedType) {
                summaryHTML += `<span class="preference-tag">${data.preferences.breedType}</span>`;
            }
            
            // Size and age
            if (data.preferences.sizePreference) {
                summaryHTML += `<span class="preference-tag">${data.preferences.sizePreference} size</span>`;
            }
            if (data.preferences.agePreference) {
                summaryHTML += `<span class="preference-tag">${data.preferences.agePreference}</span>`;
            }
            
            // Timeframe
            if (data.preferences.timeframe) {
                summaryHTML += `<span class="preference-tag">${data.preferences.timeframe}</span>`;
            }
            
            // Add description preview
            if (data.preferences.idealPetDescription) {
                const shortDesc = data.preferences.idealPetDescription.length > 100 ? 
                    data.preferences.idealPetDescription.substring(0, 100) + '...' : 
                    data.preferences.idealPetDescription;
                summaryHTML += `<div class="mt-2"><small><strong>Description:</strong> ${shortDesc}</small></div>`;
            }
            
            summary.innerHTML = summaryHTML;
        }
        
        function goHome() {
            window.location.href = '/Checkapet/';
        }
        
        // Initialize when page loads
        updateProgress();
        updateButtons();
    </script>
</body>
</html>
